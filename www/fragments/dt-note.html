<label class="ref"> ※ <input type="checkbox" /> </label>
<style>
  .ref:hover ~ *,
  .ref:has(> input:checked) ~ * {
    visibility: visible;
    opacity: 1;
    transform: translateX(0) scale(1);
    background: #fff;
  }
  .ref {
    font-size: 0.5em;
    vertical-align: super;
    padding: 0 0.1em;
    transition: transform 0.2s ease;
    cursor: pointer;
  }
  .ref:hover {
    transform: scale(1.1);
  }

  dt-note > *:not(.ref)::before {
    content: "※";
    position: absolute;
    left: 1em;
  }

  dt-note > *:not(.ref) {
    position: absolute;
    left: calc(100% + 1em);
    width: 15em;
    padding: 1px calc(1em + 1px) 1px calc(2em + 1px);
    border: 4px solid #000;
    box-shadow: 4px 0 0 rgba(255, 0, 0, 0.6), -4px 0 0 rgba(0, 255, 255, 0.6);
    background: #fff;
    visibility: hidden;
    opacity: 0;
    transform: translateX(-10px) scale(0.95);
    transition: opacity 0.3s ease, transform 0.3s ease, visibility 0s linear 0.3s;
  }

  .ref input[type="checkbox"] {
    display: none;
  }

  @media (max-width: 1024px) {
    dt-note {
      display: inline;
    }

    dt-note > *:not(.ref) {
      position: fixed;
      left: 1em;
      right: 1em;
      top: 50%;
      transform: translateY(-50%);
      width: auto;
      max-width: calc(100vw - 4em);
      padding: 1em;
      z-index: 1000;
    }
    
    dt-note > *:not(.ref)::before {
      position: static;
      left: unset;
      display: inline;
      margin-right: 0.5em;
    }

    .ref:hover ~ *,
    .ref:has(> input:checked) ~ * {
      visibility: visible;
      opacity: 1;
      transform: translateY(-50%) scale(1);
    }
  }
</style>
